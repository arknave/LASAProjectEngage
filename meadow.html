<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Project Engage Programming</title>
		<link href="stylesheets/blocks.css" rel="stylesheet" />
		<link href="stylesheets/meadow.css" rel="stylesheet" />
		<link type="text/css" href="stylesheets/custom-theme/jquery-ui-1.8.21.custom.css" rel="stylesheet" />
		<meta name="viewport" content="height=device-height, initial-scale=1.0" />
	</head>
	<body>
		<div class="content">
			<div id="pane1" class="pane">
				<div id="pane1-content" class="panecontent">
					<div id="blocktabs">
						<ul>
							<li><a href="#accordion">Block List</a></li>
							<li><a href="#blocksearch">Block Search</a></li>
						</ul>
						<div id="accordion">
						</div>
						<div id="blocksearch">
							<input id="search" class = 'search-field'/>
						</div>
					</div>
				</div>
			</div>
			<div id="pane2" class="pane">
			fdsafdsa
			</div>
			<div id="pane3" class="pane">
			zxcvzxcv
			</div>
		</div>
		<script src="lib/jquery-1.7.2.min.js"></script>
		<!--<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>-->
		<script src="lib/jquery.ui.core.js"></script>
		<script src="lib/jquery.ui.widget.js"></script>
		<script src="lib/jquery.ui.position.js"></script>
		<script src="lib/jquery.ui.autocomplete.js"></script>
		<script src="lib/jquery.hotkeys.js"></script>
		<script src="lib/jquery.querystring.js"></script>
		<script src="lib/yepnope.1.0.2-min.js"></script>
		<script src="lib/jquery.autoGrowInput.js"></script>
		<script src="lib/json2.js"></script><!-- Make this conditional -->
		<script src="lib/jquery.scrollTo.js"></script>
		<script src="scripts/drag.js"></script>
		<script src="scripts/blocks.js"></script>
		<script src="scripts/runtime.js"></script>
		<!-- Should this be moved to language? -->
		<script src="scripts/workspace.js"></script>
		<script src="scripts/search.js"></script>
		<script src="scripts/keys.js"></script>
		<script type="text/javascript" src="lib/jquery-ui-1.8.21.custom.min.js"></script>
		<script>
			/*Runs the categories in the search field.*/
			$.widget("custom.catcomplete", $.ui.autocomplete, {
				_renderMenu : function(ul, items) {
					var self = this, currentCategory = "";
					$.each(items, function(index, item) {
						if (item.category != currentCategory) {
							ul.append("<li class='ui-autocomplete-category'>" + item.category + "</li>");
							currentCategory = item.category;
						}
						self._renderItem(ul, item);
					});
				}
			});
		</script>
		<script>
			var q = $.parseQuery();
			// Insert path of plugin to be loaded here
			yepnope({
				load : ["plugins/canvas.js"]
				/*callback: function(){
				 alert("canvas loaded");
				 }*/
			});
			// This needs to run after the plugin is loaded.
			function pluginReady() {
				load_current_scripts();
				if (q.demo) {
					$(document).ready(function() {
						restore_demo_by_name(q.demo);
					});
				}
				$("#accordion").accordion({
						header: "> section > h3",
						collapsible : true,
						autoHeight: false,
						active: false,
						icons : {
							"header" : "ui-icon-circle-triangle-e",
							"headerSelected" : "ui-icon-circle-triangle-s"
						}
				}).sortable({
					axis: "y",
					handle: "h3 > a",
					stop: function( event, ui ) {
						// IE doesn't register the blur when sorting
						// so trigger focusout handlers to remove .ui-state-focus
						ui.item.children( "h3" ).triggerHandler( "focusout" );
					}
				});

			}
		</script>
		<script>
			$(document).ready(function() {
				$("#blocktabs").tabs({
					load: function(){
					}
				});
				$("#radio").buttonset();
				$("button").button();
				$("#search").catcomplete({
					source : window.blocknames,
				});
				$("#save_dialog").dialog({
					autoOpen: false,
					height: 300,
					width: 450,
					modal: true,
					resizable: false,
					buttons: [
						{
							text: "Save",
							"class": 'dialogbutton',
							click: function() {
								save_named_scripts();
							}
						},
						{
							text: "Export",
							"class": 'dialogbutton',
							click: function() {
								export_named_scripts();
							}
						},
						{
							text: "Cancel",
							"class": 'dialogbutton',
							click: function() {
								$(this).dialog("close");
							}
						}
					],
					close: function(){
						$("#script_name").val("");
						$("#script_description").val("");
					}
				});
				$("#restore_dialog").dialog({
					autoOpen: false,
					height: 300,
					width: 450,
					modal: true,
					resizable: false,
					buttons: [
						{
							text: "Import",
							"class": 'dialogbutton',
							click: function() {
								$(this).dialog("close");
								$("#imp").dialog("open");
							}
						},
						{
							text: "Cancel",
							"class": 'dialogbutton',
							click: function() {
								$(this).dialog("close");
							}
						}
					],
					close: function(){
						$('#script_list').empty();
					}
				});
				$("#demos_dialog").dialog({
					autoOpen: false,
					height: 300,
					width: 450,
					modal: true,
					resizable: false,
					buttons: [
						{
							text: "Cancel",
							"class": 'dialogbutton',
							click: function() {
								$(this).dialog("close");
							}
						}
					
					],
				});
				$("#exp").dialog({
					autoOpen: false,
					height: 250,
					width: 325,
					modal: true,
					resizable: false,
					buttons: [
						{
							text: "Cancel",
							"class": 'dialogbutton',
							click: function() {
								$(this).dialog("close");
							}
						}
					
					],
				});
				$("#imp").dialog({
					autoOpen: false,
					height: 300,
					width: 325,
					modal: true,
					resizable: false,
					buttons: [
						{
							text: "Import",
							"class": 'dialogbutton',
							click: function() {
								restore_from_export();
							}
						},
						{
							text: "Cancel",
							"class": 'dialogbutton',
							click: function() {
								$(this).dialog("close");
							}
						}
					
					],
				});
			});
		</script>
	</body>
</html>