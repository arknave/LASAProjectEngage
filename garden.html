<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Project Engage Programming</title>
		<link type="text/css" href="stylesheets/custom-theme/jquery-ui-1.8.21.custom.css" rel="stylesheet" />
		<link href="lib/scrollbar/jquery.mCustomScrollbar.css" rel="stylesheet" type="text/css" />
		<link href="stylesheets/blocks.css" rel="stylesheet" />
		<link href="stylesheets/meadow.css" rel="stylesheet" />
		<meta name="viewport" content="height=device-height, initial-scale=1.0" />
	</head>
	<body>

		<div id="header" class="ui-widget-header">
			<span id="logo" class="title"> Waterbear </span>
			<section id="toolbar" >
				<button id="about">
					About
				</button>
				<button id="restore_scripts">
					Restore
				</button>
				<button id="save_scripts">
					Save
				</button>
				<button id="demo_scripts">
					Demos
				</button>
				<button id="clear_scripts">
					Clear Scripts
				</button>
				<button id="clear_canvas">
					Clear Stage
				</button>
				<button id="run_scripts">
					Run
				</button>
			</section>
		</div>
		<div class = "content">
		<div id="colmask">
			<div id="colmid">
				<div id="colright">
					<div id="col1wrap">
						<div id="col1pad">
							<div id="col1">
								<div id="scripttabs">
									<ul>
										<li>
											<a href="#scripts_workspace">Block View</a>
										</li>
										<li>
											<a href="#scripts_text_view">Text View</a>
										</li>
									</ul>
									<div id="workspace" class="workspace">
										<div id="scripts_workspace" class="scripts_workspace"></div>
										<div id="scripts_text_view" class="scripts_text_view"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="col2">
						<div id="blocktabs">
							<ul>
								<li>
									<a href="#accordion">Block List</a>
								</li>
								<li>
									<a href="#blocksearch">Block Search</a>
								</li>
							</ul>
							<div id="accordion" class="block_menu ui-accordion"></div>
							<div id="blocksearch">
								<input id="search" class='search-field'/>
							</div>
						</div>
					</div>
					<div id="col3">
						<!--<div id="stage" class="stage ui-content"></div>
						<div id="spritebank" class="spritebank ui-content">
						<ul id="spritelist">
						<img src="images/sprites/Archie_Che_Guevara.svg" class="sprite" />
						<img src="images/sprites/bob_marley.svg" class="sprite" />
						<img src="images/sprites/mozart.svg" class="sprite" />
						<img src="images/sprites/casifish_stallman.svg" class="sprite" />
						</ul>
						</div>
						-->
						<div id="stage" class="stage">
							<canvas>
								<p>
									Sorry, but your browser doesn't support canvas. Please use the latest version of Firefox
								</p>
							</canvas>
						</div>
						<div id="spritebank" class="ui-widget">
							<div id="spriteheader" class="ui-widget-header">
								<h4 id="spritetitle" class='title'>Sprites</h4>
								<button id="newsprite">
									Import Sprite
								</button>
							</div>
							<div id="spritecontainer" class="ui-widget-content"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
		<div class="dialog" id="about_dialog">
			<div id="about_dialog_contents">
				<p>
					<a href="index.html">Info</a>
				</p>
				<p>
					<a href="docs/index.html">Documentation</a>
				</p>
				<!-- Not sure if this is necessary, better safe than sorry -->
				<p>
					<a href="license">License</a>
				</p>
				<p>
					<a href="index.html#help">Help</a>
				</p>
			</div>
		</div>
		<div class="dialog" id="save_dialog" title="Save Script">
			<form id="save_form" class="dialogform">
				<fieldset id="save_fieldset" class="dialogfieldset">
					<h2>Save the current script</h2>
					<input id="script_name" name="script_name" class ="text ui-widget-content ui-corner-all diaginput" placeholder="Script Name" />
					<textarea id="script_description" name="script_description" class ="text ui-widget-content ui-corner-all" rows=8 placeholder="Optional Description"></textarea>
				</fieldset>
			</form>
		</div>
		<div class="dialog" id="restore_dialog">
			<div id="restore_dialog_contents">
				<h2>Restore a script</h2>
				<ul class="scrollList" id="script_list"></ul>
			</div>
		</div>
		<div class="dialog" id="demos_dialog">
			<div id="demos_dialog_contents">
				<h2>Load a demo</h2>
				<ul class="scrollList" id="demo_list"></ul>
			</div>
		</div>
		<div class="dialog" id="exp" title="Export Script">
			<h2>Exported Code</h2>
			Copy this into a text document to save for your records.
			<textarea rows=10 class="text ui-widget-content ui-corner-all"></textarea>
		</div>
		<div class="dialog" id="imp" title="Import Script">
			<h2>Import Code</h2>
			Paste the code generated by the export dialog below.
			<textarea rows=10 class="text ui-widget-content ui-corner-all"></textarea>
		</div>
		<div class="dialog" id="spritediag" title="New Sprite">
			<h2>Add new Sprite</h2>
			Enter the name of a sprite below.
			<input id="sprite_name" name="sprite_name" class ="text ui-widget-content ui-corner-all diaginput"/>
		</div>

		<script src="lib/jquery-1.7.2.min.js"></script>
		<script src="lib/jquery.ui.core.js"></script>
		<script src="lib/jquery.ui.widget.js"></script>
		<script src="lib/jquery.ui.position.js"></script>
		<script src="lib/jquery.ui.autocomplete.js"></script>
		<script src="lib/jquery.ui.dialog.js"></script>
		<script src="lib/jquery.hotkeys.js"></script>
		<script src="lib/jquery.querystring.js"></script>
		<script src="lib/yepnope.1.0.2-min.js"></script>
		<script src="lib/jquery.autoGrowInput.js"></script>
		<script src="lib/json2.js"></script><!-- Make this conditional -->
		<script src="lib/jquery.scrollTo.js"></script>
		<script src="lib/jquery-ui-1.8.21.custom.min.js"></script>
		<script src="lib/scrollbar/jquery.mousewheel.min.js"></script>
		<script src="lib/scrollbar/jquery.mCustomScrollbar.js"></script>
		<script src="scripts/drag.js"></script>
		<script src="scripts/blocks.js"></script>
		<script src="scripts/runtime.js"></script>
		<!-- Should this be moved to language? -->
		<script src="scripts/workspace.js"></script>
		<script src="scripts/search.js"></script>
		<script src="scripts/setup.js"></script>
		<script src="scripts/keys.js"></script>

		<script>
            var q = $.parseQuery();
            // Insert path of plugin to be loaded here
            yepnope({
                load : ["plugins/canvas.js"]
                /*callback: function(){
                 alert("canvas loaded");
                 }*/
            });
            // This needs to run after the plugin is loaded.
            function pluginReady() {
                load_current_scripts();
                if (q.demo) {
                    $(document).ready(function() {
                        restore_demo_by_name(q.demo);
                    });
                }
                setup_search();
                setup_block_accordians();
            }


            $(document).ready(function() {
                setup_buttons();
                setup_tabs();
                setup_dialog();
            });
            clear_canvas();
		</script>


	</body>
</html>